# 3D printer control setup

This supercedes 3D_printing.txt

## Printer

   mUVe3D 1.5 w/ Flex Vat and Uber-Z upgrade.

   http://www.muve3d.net/press/product/muve-1-dlp/

   Documentation:

   http://www.muve3d.net/press/muve-1-documentation/

   Support forums:

   https://groups.google.com/forum/#!forum/muve-3d-support-group

   Full setup documentation for the below software:

   https://drive.google.com/file/d/0B8xCOdl2soS-UDQ1ckE3SEZvVnM/view

## Arduino

   Need to install arduino to work on or upload printer firmware.

   The version in the repos is old. Download latest from
https://www.arduino.cc

## Control module:

   Raspberry Pi 2:

   https://www.raspberrypi.org/

   (Buy it from amazon).

## Needs Raspberry Pi OS Lite installed:

   https://www.raspberrypi.com/software/operating-systems/#raspberry-pi-os-32-bit

   Basically, just unzip it and ddrescue it into the SD card, e.g:

       sudo ddrescue --synchronous --force 2021-10-30-raspios-bullseye-armhf-lite.img /dev/sdg

## Printer/projector control software:

   NanoDLP

   Note that this takes SVGs generated by the slicing software.

   http://www.nanodlp.com/

   This gets installed on top of Rasbpian. which was installed above.

   Note that the filesystem is automatically expanded on first boot.

   In addition to those instructions, do the following:

   1. default login is pi/raspberry
   1. run:

          sudo raspi-config 

      and:

      1. set up all the localization, keyboard, etc.
      1. set the hostname to muve3d
      1. enable SSH

   1. as pi, change the password to something random (we'll add another user later)

   1. Let it reboot, log in as pi, then fix up users.

   1. Add me:

          sudo adduser matt
          sudo usermod -a -G adm,dialout,cdrom,sudo,audio,video,plugdev,games,users,input,netdev,gpio,i2c,spi matt

   1. Make sure to copy over my pub key into `.ssh/authorized_keys`.

   1. Log out as pi, log in as me, then lock pi.

          sudo usermod -L pi

   1. Edit /etc/ssh/sshd_config

      1. Set "PermitRootLogin" to no
      1. Set "PasswordAuthentication" to no

   1. Install upgrades

          sudo apt-get update
          sudo apt-get dist-upgrade

   1. Add some useful things:

          sudo apt-get install emacs-nox git

   1. Reboot again, then proceed on and install all the NanoDLP bits per the
   instructions.. more or less. However, we need to do it as pi, not as me:

          sudo -u pi -i

      (and then do the install process).
      
      The TL:DR and update is:

          (wget https://www.nanodlp.com/download/nanodlp.linux.arm.rpi.stable.tar.gz --no-check-certificate -O - | tar -C /home/pi -xz --warning=no-timestamp);cd /home/pi/printer;sudo ./setup.sh
          cd .. && sudo chown -R pi:pi printer
          
      the answers are:

          Are you using shutter and it is wired to Raspberry Pi? [Y/n] n
          Do you want to optimize Raspberry Pi settings for nanoDLP automatically? [Y/n] Y
          Do you see black border around display output? (disable overscan) [Y/n] Y
          Do you want to enable i2c to enable communication with LCD and other hardware with i2c connectivity? [Y/n] n
          To expand file system, enable SSH server and camera module you need to use raspi-config. Do you want to use it now? [Y/n] n

   1. Once that's done, go to:

      http://muve3d

      1. Click setup. On the "Hardware Setup" tab.
          1. Set Printer Name to "mUVe3D"
          1. Change "Shutter" to "Disabled"
      1. Click Password Protection
          1. add user "muve3d" and generic password
      1. Go into printer profiles and add as necessary.
      1. Go into the setup and make sure to delete the mask (current bulb is quite good)

   1. Slicing software

      ChiTuBox: https://www.chitubox.com/